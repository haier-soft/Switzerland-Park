const modalShowBtn=document.querySelectorAll(".modal-show-btn"),modal=document.querySelectorAll(".modal"),feedbackModal=document.querySelector(".feedback-modal"),successModal=document.querySelector(".success-modal"),errorModal=document.querySelector(".error-modal");let modalAnimSpd=500,paddingValue=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0;function windoOnResize(){paddingValue=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0}function Marquee(e,o){const t=e.innerHTML,n=e.children[0];let d=0;e.insertAdjacentHTML("beforeend",t),e.insertAdjacentHTML("beforeend",t),setInterval((function(){n.style.marginLeft=`-${d}px`,d>n.clientWidth&&(d=0),d+=o}),0)}window.addEventListener("resize",windoOnResize),window.addEventListener("orientationchange",windoOnResize);const marquees=document.querySelectorAll(".marquee");if(0!=marquees.length&&marquees.forEach((e=>{window.addEventListener("load",Marquee(e,.2))})),Fancybox.defaults={loop:!1,idle:!1,compact:!1,Hash:!1,Toolbar:{display:{left:["infobar"],middle:[],right:["close"]}}},document.querySelector(".swiper-aparts")){let e,o,t;function mainSwiperInit(){window.innerWidth<=991?(t&&(t.destroy(),e.destroy()),o&&!o.destroyed||(o=new Swiper(".swiper-aparts__main",{slidesPerView:1.2,observer:!0,observeParents:!0,spaceBetween:20,autoplay:{delay:3500},speed:800})),Fancybox.bind('[data-fancybox="gallery-mobile"]',{Thumbs:{showOnStart:!1}})):(o&&o.destroy(),t&&!t.destroyed||(e=new Swiper(".swiper-aparts__thumbs",{slidesPerView:4,spaceBetween:20,direction:"vertical",observer:!0,observeParents:!0,freeMode:!0,speed:800}),t=new Swiper(".swiper-aparts__main",{slidesPerView:1,observer:!0,observeParents:!0,effect:"fade",autoplay:{delay:3500},thumbs:{swiper:e},speed:300}),Fancybox.unbind('[data-fancybox="gallery-mobile"]'),Fancybox.bind('[data-fancybox="gallery-desktop"]',{Thumbs:{type:"modern",autoStart:!0,hideOnClose:!0},on:{close:(o,n)=>{t.slideTo(o.getSlide().index),e.slideTo(o.getSlide().index)}}})))}mainSwiperInit(),window.addEventListener("resize",(()=>mainSwiperInit())),window.addEventListener("orientationchange",(()=>mainSwiperInit()))}function openModal(e){document.body.style.paddingRight=paddingValue,document.body.classList.add("no-scroll"),e.classList.add("open"),setTimeout((()=>{e.querySelector(".modal__overlay").classList.add("open")}),30)}function closeModal(e){e.querySelector(".modal__overlay").classList.remove("open"),setTimeout((()=>{document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"),e.classList.remove("open")}),modalAnimSpd)}function formSuccess(e){e.querySelectorAll("input").forEach((e=>{"hidden"!=e.type&&(e.value="")})),e.querySelectorAll(".form__placeholder").forEach((e=>e.style.display="block"));let o=document.querySelector(".modal.open");o&&(o.querySelector(".modal__overlay").classList.remove("open"),o.classList.remove("open")),openModal(successModal)}modalShowBtn.forEach((e=>{e.addEventListener("click",(o=>{o.preventDefault();let t=e.getAttribute("href");openModal(document.querySelector(t))}))})),modal.forEach((e=>{const o=e.querySelector(".modal__content");e.querySelector(".modal__close").addEventListener("click",(o=>{closeModal(e)})),e.addEventListener("click",(t=>{o.contains(t.target)||closeModal(e)}))}));const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{e.addEventListener("focus",(()=>{e.parentNode.querySelector(".form__placeholder").style.display="none"})),e.addEventListener("blur",(()=>{0===e.value.length&&(e.parentNode.querySelector(".form__placeholder").style.display="block")})),Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));