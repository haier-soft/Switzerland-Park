const modalShowBtn=document.querySelectorAll(".modal-show-btn"),modal=document.querySelectorAll(".modal"),feedbackModal=document.querySelector(".feedback-modal"),successModal=document.querySelector(".success-modal"),errorModal=document.querySelector(".error-modal");let modalAnimSpd=500,paddingValue=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0;function windoOnResize(){paddingValue=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0}function Marquee(e,t){const o=e.innerHTML,n=e.children[0];let d=0;e.insertAdjacentHTML("beforeend",o),e.insertAdjacentHTML("beforeend",o),setInterval((function(){n.style.marginLeft=`-${d}px`,d>n.clientWidth&&(d=0),d+=t}),0)}window.addEventListener("resize",windoOnResize),window.addEventListener("orientationchange",windoOnResize);const marquees=document.querySelectorAll(".marquee");if(0!=marquees.length&&marquees.forEach((e=>{window.addEventListener("load",Marquee(e,.2))})),Fancybox.defaults={loop:!1,idle:!1,compact:!1,Hash:!1,Toolbar:{display:{left:["infobar"],middle:[],right:["close"]}}},document.querySelector(".swiper-aparts")){let e,t,o;function mainSwiperInit(){window.innerWidth<=991?(o&&(o.destroy(),e.destroy()),t&&!t.destroyed||(t=new Swiper(".swiper-aparts__main",{slidesPerView:1.2,observer:!0,observeParents:!0,spaceBetween:20,autoplay:{delay:3500},speed:800})),Fancybox.bind('[data-fancybox="gallery-mobile"]',{Thumbs:{showOnStart:!1}})):(t&&t.destroy(),o&&!o.destroyed||(e=new Swiper(".swiper-aparts__thumbs",{slidesPerView:4,spaceBetween:20,direction:"vertical",observer:!0,observeParents:!0,freeMode:!0,speed:800}),o=new Swiper(".swiper-aparts__main",{slidesPerView:1,observer:!0,observeParents:!0,effect:"fade",autoplay:{delay:3500},thumbs:{swiper:e},speed:300}),Fancybox.unbind('[data-fancybox="gallery-mobile"]'),Fancybox.bind('[data-fancybox="gallery-desktop"]',{Thumbs:{type:"modern",autoStart:!0,hideOnClose:!0},on:{close:(t,n)=>{o.slideTo(t.getSlide().index),e.slideTo(t.getSlide().index)}}})))}mainSwiperInit(),window.addEventListener("resize",(()=>mainSwiperInit())),window.addEventListener("orientationchange",(()=>mainSwiperInit()))}function openModal(e){document.body.style.paddingRight=paddingValue,document.body.classList.add("no-scroll"),e.classList.add("open"),setTimeout((()=>{e.querySelector(".modal__overlay").classList.add("open")}),30)}function closeModal(e){e.querySelector(".modal__overlay").classList.remove("open"),setTimeout((()=>{document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"),e.classList.remove("open")}),modalAnimSpd)}function formSuccess(e){e.querySelectorAll("input").forEach((e=>{"hidden"!=e.type&&(e.value="")})),e.querySelectorAll(".form__placeholder").forEach((e=>e.style.display="block"));let t=document.querySelector(".modal.open");t&&(t.querySelector(".modal__overlay").classList.remove("open"),t.classList.remove("open")),openModal(successModal)}modalShowBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("href");openModal(document.querySelector(o))}))})),modal.forEach((e=>{const t=e.querySelector(".modal__content");e.querySelector(".modal__close").addEventListener("click",(t=>{closeModal(e)})),e.addEventListener("click",(o=>{t.contains(o.target)||closeModal(e)}))}));const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{e.addEventListener("focus",(()=>{e.parentNode.querySelector(".form__placeholder").style.display="none"})),e.addEventListener("blur",(()=>{0===e.value.length&&(e.parentNode.querySelector(".form__placeholder").style.display="block")})),Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));let im=document.querySelector(".img");im.addEventListener("mousemove",(e=>{let t=e.pageX-im.offsetLeft-im.clientWidth/2,o=e.pageY-im.offsetTop-im.clientHeight/2,n=t/im.clientWidth,d=o/im.clientHeight;const r=20*n,a=-20*d;im.style.transform=`rotateY(${r}deg) rotateX(${a}deg) translateZ(150px)`})),im.addEventListener("mouseleave",(e=>{im.style.transform="translateX(0px) translateY(0px) rotateY(0deg) rotateX(0deg) translateZ(150px)"}));