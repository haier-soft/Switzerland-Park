const modalShowBtn=document.querySelectorAll(".modal-show-btn"),modal=document.querySelectorAll(".modal"),feedbackModal=document.querySelector(".feedback-modal"),successModal=document.querySelector(".success-modal"),errorModal=document.querySelector(".error-modal");let modalAnimSpd=500,windowW=window.innerWidth||document.documentElement.clientWidth,paddingValue=windowW>325?windowW-document.documentElement.clientWidth+"px":0;function windoOnResize(){windowW=window.innerWidth||document.documentElement.clientWidth,paddingValue=windowW>325?windowW-document.documentElement.clientWidth+"px":0}function Marquee(e,t){const o=e.innerHTML,n=e.children[0];let r=0;e.insertAdjacentHTML("beforeend",o),e.insertAdjacentHTML("beforeend",o),setInterval((function(){n.style.marginLeft=`-${r}px`,r>n.clientWidth&&(r=0),r+=t}),0)}window.addEventListener("resize",windoOnResize),window.addEventListener("orientationchange",windoOnResize);const marquees=document.querySelectorAll(".marquee");if(0!=marquees.length&&marquees.forEach((e=>{window.addEventListener("load",Marquee(e,.2))})),Fancybox.defaults={loop:!1,idle:!1,compact:!1,Hash:!1,Thumbs:{type:"modern",autoStart:!0,hideOnClose:!0},Toolbar:{display:{left:["infobar"],middle:[],right:["close"]}}},document.querySelector(".swiper-aparts")){let e,t,o,n=!1,r=!1;function mainSwiperInit(){windowW<=991?(r&&(o.destroy(),e.destroy(),r=!1),n||(t=new Swiper(".swiper-aparts__main",{slidesPerView:1.2,slidesPerGroup:1,observer:!0,observeParents:!0,spaceBetween:20,autoplay:{delay:3500,disableOnInteraction:!1},speed:800}),n=!0)):(n&&(t.destroy(),n=!1),r||(e=new Swiper(".swiper-aparts__thumbs",{slidesPerView:4,spaceBetween:20,direction:"vertical",observer:!0,observeParents:!0,freeMode:!0,speed:800}),o=new Swiper(".swiper-aparts__main",{slidesPerView:1,slidesPerGroup:1,observer:!0,observeParents:!0,effect:"fade",autoplay:{delay:3500,disableOnInteraction:!1},thumbs:{swiper:e},speed:300}),r=!0))}Fancybox.bind('[data-fancybox="gallery"]',{}),mainSwiperInit(),window.addEventListener("resize",(()=>mainSwiperInit())),window.addEventListener("orientationchange",(()=>mainSwiperInit()))}function openModal(e){document.body.style.paddingRight=paddingValue,document.body.classList.add("no-scroll"),e.classList.add("open"),setTimeout((()=>{e.querySelector(".modal__overlay").classList.add("open")}),30)}function closeModal(e){e.querySelector(".modal__overlay").classList.remove("open"),setTimeout((()=>{document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"),e.classList.remove("open")}),modalAnimSpd)}function formSuccess(e){e.querySelectorAll(".form__placeholder").forEach((e=>e.style.display="block")),e.querySelectorAll("input").forEach((e=>e.classList.remove("is-invalid")));let t=document.querySelector(".modal.open");t&&(t.querySelector(".modal__overlay").classList.remove("open"),t.classList.remove("open")),openModal(successModal)}modalShowBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("href");openModal(document.querySelector(o))}))})),modal.forEach((e=>{const t=e.querySelector(".modal__content");e.querySelector(".modal__close").addEventListener("click",(t=>{closeModal(e)})),e.addEventListener("click",(o=>{t.contains(o.target)||closeModal(e)}))}));const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{e.addEventListener("focus",(()=>{e.parentNode.querySelector(".form__placeholder").style.display="none"})),e.addEventListener("blur",(()=>{0===e.value.length&&(e.parentNode.querySelector(".form__placeholder").style.display="block")})),Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));let introImg=document.querySelector(".intro__img--1 img");introImg.addEventListener("mousemove",(e=>{const t=introImg.getBoundingClientRect().top+introImg.offsetHeight/2,o=introImg.getBoundingClientRect().left+introImg.offsetWidth/2;let n=e.clientX-o,r=e.clientY-t;introImg.style.transform="translate3d("+n/25+"px,"+r/20+"px,0)"})),introImg.addEventListener("mouseleave",(()=>{introImg.style.transform="translate3d(0,0,0)"}));