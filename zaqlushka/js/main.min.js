const modalShowBtn=document.querySelectorAll(".modal-show-btn"),modal=document.querySelectorAll(".modal"),feedbackModal=document.querySelector(".feedback-modal"),successModal=document.querySelector(".success-modal"),errorModal=document.querySelector(".error-modal");let modalAnimSpd=500,windowW=window.innerWidth||document.documentElement.clientWidth,paddingValue=windowW>325?windowW-document.documentElement.clientWidth+"px":0;function windoOnResize(){windowW=window.innerWidth||document.documentElement.clientWidth,paddingValue=windowW>325?windowW-document.documentElement.clientWidth+"px":0,mainSwiperInit()}function Marquee(e,t){const n=e.innerHTML,o=e.children[0];let i=0;e.insertAdjacentHTML("beforeend",n),e.insertAdjacentHTML("beforeend",n),setInterval((function(){o.style.marginLeft=`-${i}px`,i>o.clientWidth&&(i=0),i+=t}),0)}window.addEventListener("resize",windoOnResize),window.addEventListener("orientationchange",windoOnResize);const marquees=document.querySelectorAll(".marquee");let thumbsSwiper,mainSwiperMob,mainSwiperDesk;0!=marquees.length&&marquees.forEach((e=>{window.addEventListener("load",Marquee(e,.2))})),Fancybox.defaults={loop:!1,idle:!1,compact:!1,Hash:!1,Thumbs:{type:"modern",autoStart:!0,hideOnClose:!0},Toolbar:{display:{left:["infobar"],middle:[],right:["close"]}}};let mainSwiperMobInit=!1,mainSwiperDeskInit=!1;function mainSwiperInit(){windowW<=991?(mainSwiperDeskInit&&(mainSwiperDesk.destroy(),thumbsSwiper.destroy(),mainSwiperDeskInit=!1),mainSwiperMobInit||(mainSwiperMob=new Swiper(".swiper-aparts__main",{slidesPerView:1.2,slidesPerGroup:1,observer:!0,observeParents:!0,spaceBetween:20,autoplay:{delay:3500,disableOnInteraction:!1},speed:800}),mainSwiperMobInit=!0)):(mainSwiperMobInit&&(mainSwiperMob.destroy(),mainSwiperMobInit=!1),mainSwiperDeskInit||(thumbsSwiper=new Swiper(".swiper-aparts__thumbs",{slidesPerView:4,spaceBetween:20,direction:"vertical",observer:!0,observeParents:!0,freeMode:!0,speed:800}),mainSwiperDesk=new Swiper(".swiper-aparts__main",{slidesPerView:1,slidesPerGroup:1,observer:!0,observeParents:!0,effect:"fade",autoplay:{delay:3500,disableOnInteraction:!1},thumbs:{swiper:thumbsSwiper},speed:300}),mainSwiperDeskInit=!0))}function openModal(e){document.body.style.paddingRight=paddingValue,document.body.classList.add("no-scroll"),e.classList.add("open"),setTimeout((()=>{e.querySelector(".modal__overlay").classList.add("open")}),30)}function closeModal(e){e.querySelector(".modal__overlay").classList.remove("open"),setTimeout((()=>{document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"),e.classList.remove("open")}),modalAnimSpd)}function formSuccess(e){e.querySelectorAll(".form__placeholder").forEach((e=>e.style.display="block")),e.querySelectorAll("input").forEach((e=>e.classList.remove("is-invalid")));let t=document.querySelector(".modal.open");t&&(t.querySelector(".modal__overlay").classList.remove("open"),t.classList.remove("open")),openModal(successModal)}document.querySelector(".swiper-aparts")&&(Fancybox.bind('[data-fancybox="gallery"]',{}),mainSwiperInit()),modalShowBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let n=e.getAttribute("href");openModal(document.querySelector(n))}))})),modal.forEach((e=>{const t=e.querySelector(".modal__content");e.querySelector(".modal__close").addEventListener("click",(t=>{closeModal(e)})),e.addEventListener("click",(n=>{t.contains(n.target)||closeModal(e)}))}));const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{e.addEventListener("focus",(()=>{e.parentNode.querySelector(".form__placeholder").style.display="none"})),e.addEventListener("blur",(()=>{0===e.value.length&&(e.parentNode.querySelector(".form__placeholder").style.display="block")})),Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));let introImg=document.querySelector(".intro__img--1 img");introImg.addEventListener("mousemove",(e=>{const t=introImg.getBoundingClientRect().top+introImg.offsetHeight/2,n=introImg.getBoundingClientRect().left+introImg.offsetWidth/2;let o=e.clientX-n,i=e.clientY-t;introImg.style.transform="translate3d("+o/25+"px,"+i/20+"px,0)"})),introImg.addEventListener("mouseleave",(()=>{introImg.style.transform="translate3d(0,0,0)"}));